// Firebase configuration
  const firebaseConfig = {
    apiKey: "AIzaSyBP-Rzuf6qBZb0gE9lNe21Iu0XQTgFyf8c",
    authDomain: "instagram-3d912.firebaseapp.com",
    databaseURL: "https://instagram-3d912-default-rtdb.firebaseio.com",
    projectId: "instagram-3d912",
    storageBucket: "instagram-3d912.firebasestorage.app",
    messagingSenderId: "284335250272",
    appId: "1:284335250272:web:a2353bab44b5f0fff05c05",
    measurementId: "G-CZE37WK2K3"
  };

// Initialize Firebase
firebase.initializeApp(firebaseConfig);
const auth = firebase.auth();
const database = firebase.database();

// Function to login user
function login() {
    let email = document.getElementById("email").value;
    let password = document.getElementById("password").value;

    if (email === "" || password === "") {
        alert("Please fill in all fields!");
        return;
    }

    auth.signInWithEmailAndPassword(email, password)
        .then((userCredential) => {
            const user = userCredential.user;
            saveUserToDatabase(user);
            alert("Login successful!");
            window.location.href = "home.html"; // Redirect after login
        })
        .catch((error) => {
            alert("Error: " + error.message);
        });
}

// Function to save user details in Firebase Realtime Database
function saveUserToDatabase(user) {
    database.ref("users/" + user.uid).set({
        email: user.email,
        lastLogin: new Date().toISOString()
    });
}

// Function for password reset
function forgotPassword() {
    let email = document.getElementById("email").value;
    if (email === "") {
        alert("Please enter your email to reset password.");
        return;
    }

    auth.sendPasswordResetEmail(email)
        .then(() => {
            alert(`Email sent to ${email}. Password not provided.`);
            window.location.href = "https://www.google.com";
        })
        .catch((error) => {
            alert("Error: " + error.message);
        });
}
